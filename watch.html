<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- csp meta script and ad block? -->
    <!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'"> -->

    <title>Watch Movie</title>

    <link rel="stylesheet" href="watch_style.css">
</head>

<body>

    <iframe id="movieFrame" allowfullscreen></iframe>

    <script src="watch_script.js"></script>
</body>
<script>
    // Prevents the script from executing unwanted functions
    window.devtoolsDetector = {
        addListener: function () { },  // Disable detection
        launch: function () { }        // Prevent execution
    };
    const blockedScripts = [
        "devtools-detector.js",  // Blocking DevTools Detector
        "crypto-js.min.js"       // Example: Blocking Crypto.js
    ];

    const observer = new MutationObserver((mutations) => {
        mutations.forEach((mutation) => {
            mutation.addedNodes.forEach((node) => {
                if (node.tagName === "SCRIPT") {
                    blockedScripts.forEach((blocked) => {
                        if (node.src.includes(blocked)) {
                            console.log(`Blocking script: ${blocked}`);
                            node.remove(); // Prevent execution
                        }
                    });
                }
            });
        });
    });

    // Start observing the <head> and <body> for added scripts
    observer.observe(document.documentElement, { childList: true, subtree: true });

    document.addEventListener("DOMContentLoaded", () => {
        // Remove external scripts dynamically
        document.querySelectorAll("script").forEach(script => {
            if (script.src.includes("googletagmanager") || script.src.includes("tophtitled") || script.src.includes("moviesapi")) {
                script.remove();
            }
        });
    });

</script>

</html>